<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å›¾åºŠå¤§æ¯”æ‹¼-2023å¹´å›¾åºŠé€‰ä»€ä¹ˆ?</title>
    <link rel="shortcut icon" href="https://cdn-us.imgs.moe/2023/07/24/64be512ade53d.ico" type="image/x-icon">
    <meta name="keywords" content="å›¾åºŠæ¯”æ‹¼,é‚£ä¸ªå›¾åºŠé€Ÿåº¦å¿«ï¼Ÿ,å›¾åºŠé€‰ä»€ä¹ˆ,2023å¹´å›¾åºŠ" />
    <meta name="description" content="å¯ä»¥è®©ä½ å¿«é€Ÿé€‰æ‹©å¿ƒä»ªå›¾åºŠ,å¯¹æ¯”å›¾åºŠé€Ÿåº¦çš„å°ç«™" />
    <script src="js/jquery-3.6.3.min.js"></script>
</head>
<style>
    #box {

        column-count: 3;
        /* Adjust the column count as needed */
        column-gap: 20px;
        /* Adjust the gap between columns as needed */
    }

    .box {
        break-inside: avoid;
        box-shadow: 0 1rem 3rem rgba(33, 37, 41, .175);
        /* Prevent boxes from breaking across columns */
        margin-bottom: 20px;
        padding: 5px;
        overflow: hidden;
        /* Adjust the margin between boxes as needed */
    }

    .box img {
        display: block;
        width: 100%;
        height: auto;
    }
</style>

<body>
    <header>
        <h1><a href="https://hostloc.com/thread-1190659-1-1.html">[å›¾åºŠè¯„æ¯”]å›¾åºŠå¤§æ¯”æ‹¼ï¼Œæ˜¯å›¾åºŠå°±æ¥æ¯”ä¸€ä¸‹å§</a></h1>
        <p>äººå·¥ç­›é€‰æ‰€ä»¥ï¼šç¦æ­¢å›½å†…/å›½å¤–è®¿é—®çš„ï¼Œä¸Šä¼ éœ€è¦ç™»å½•çš„ï¼Œä¸Šä¼ å°äº5.33MBçš„éƒ½ä¸åœ¨å†…</p>
        <p>äººå·¥å¯èƒ½ä¼šæœ‰é—æ¼ï¼Œä¸åœ¨ä¸Šè¿°èŒƒå›´çš„mjjå¯ä»¥è”ç³»<a href="https://hostloc.com/thread-1190659-1-1.htm">hostloc</a>æˆ–è€…<a
                href="https://github.com/ZenEcho/fileup.dev">github</a></p>
        <p>ä¸Šä¼ å°äº5.33æˆ–è€…ä¸Šä¼ éœ€è¦ç™»å½•çš„,å¯ä»¥å°†ğŸ‘‡åŸå›¾ä¸Šä¼ åˆ°ä½ çš„å›¾åºŠå¹¶å¸–å†…å›å¤æˆ–GitHubæäº¤</p>

        <h2>é¡ºåºä¸åšæ’åï¼Œæµ‹è¯•æ—¶è¯·å…³é—­ä»£ç†ï¼Œf12æ‰“å¼€æµ‹è¯•é¢æ¿ï¼Œå¹¶ç¦æ­¢ç¼“å­˜</h2>
        <img src="https://i.mji.rip/2023/07/24/d844fc857a6c106e857b118424a6441e.png">
        <p>åŸå›¾åç§°ï¼š8Kèµ›åšæœ‹å…‹è½æ—¥æ—…é¦†ï¼Œå¤§å°ï¼š5.33 MB</p>
        <p>åŸå›¾åœ°å€ï¼šhttps://images5.alphacoders.com/129/1298529.jpg</p>

        </h2>
    </header>
    <script src="js/imgtest.js"></script>
    <script>
        // ä½¿ç”¨Fisher-Yatesç®—æ³•å¯¹æ•°ç»„è¿›è¡Œæ´—ç‰Œ
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        fetch("https://raw.githubusercontent.com/ZenEcho/fileup.dev/master/imgtestData.json")
            .then(response => response.text())
            .then(res => {
                try {
                    const jsonObject = JSON.parse(res);
                    let data = jsonObject.data
                    data.forEach(item => {
                        item.image += `?cache=${Date.now()}`;
                    });
                    // éšæœºæ´—ç‰Œæ•°ç»„
                    shuffleArray(data);

                    // ç”ŸæˆHTMLçš„å‡½æ•°
                    function generateHTML() {
                        const itemsPerPage = 6;
                        const startIndex = (currentPage - 1) * itemsPerPage;
                        const endIndex = startIndex + itemsPerPage;
                        const currentData = data.slice(startIndex, endIndex);

                        let $box = $('#box'); // ä½¿ç”¨jQueryé€‰æ‹©å™¨è·å–boxå…ƒç´ 

                        currentData.forEach(item => {
                            const startTime = Date.now();

                            // æ·»åŠ å›¾ç‰‡å…ƒç´ ï¼Œå¹¶è®¾ç½®onloadäº‹ä»¶å¤„ç†å‡½æ•°
                            $box.append(`
            <div class="box">
                <h3>å›¾åºŠï¼š<a href="${item.link}" target="_blank">${item.link}</a></h3>
                <p style=" font-size: 0.7em;">ä»‹ç»ï¼š${item.introduce}</p>
                <img src="${item.image}">
                <p style=" font-size: 0.7em;">${item.image}</p>
            </div>
        `);

                            $box.find('img').last().on('load', function () {
                                // åœ¨class="box"æœ«å°¾æ’å…¥åŠ è½½æ—¶é—´
                                const endTime = Date.now();
                                const loadTime = endTime - startTime;
                                $(this).parent().append(`
                    <p style=" font-size: 1em; ">åŠ è½½æ—¶é—´ï¼š${loadTime}æ¯«ç§’</p>
                    <p style=" font-size: 0.7em; ">(æ—¶é—´è®¡ç®—ä¼šå—ç½‘ç»œ,è®¡ç®—æœºæ€§èƒ½,æœ¬åœ°æ—¶é—´,æµè§ˆå™¨ç­‰ä¸ç¡®å®šå› ç´ å½±å“)</p>`);
                            });



                        });
                    }

                    // é¡µé¢åŠ è½½æ—¶ç”ŸæˆHTML
                    const currentPage = 1;
                    $(document).ready(generateHTML); // ä½¿ç”¨jQueryçš„æ–¹å¼ç»‘å®šé¡µé¢åŠ è½½äº‹ä»¶
                } catch (error) {
                    console.error('Error parsing data:', error);
                }
            })
            .catch(error => {
                // An error occurred during fetching
                console.error('Error fetching data:', error);
            });

    </script>

    <div id="box"></div>

</body>

</html>
