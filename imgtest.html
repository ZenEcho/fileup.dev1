<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>图床大比拼-2023年图床选什么?</title>
    <link rel="shortcut icon" href="https://cdn-us.imgs.moe/2023/07/24/64be512ade53d.ico" type="image/x-icon">
    <meta name="keywords" content="图床比拼,那个图床速度快？,图床选什么,2023年图床" />
    <meta name="description" content="可以让你快速选择心仪图床,对比图床速度的小站" />
    <link rel="stylesheet" href="vendor/bootstrap/css/bootstrap.min.css">
    <script src="js/jquery-3.6.3.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
</head>
<style>
    #box {
        margin-top: -5em;
        column-count: 3;
        padding: 2em;

        column-gap: 20px;
    }

    .box {
        background-color: white;
        break-inside: avoid;
        box-shadow: 0 1rem 3rem rgba(33, 37, 41, .175);
        /* Prevent boxes from breaking across columns */
        margin-bottom: 20px;
        padding: 5px;
        border-radius: 20px;
        overflow: hidden;
        /* Adjust the margin between boxes as needed */
    }

    .box img {
        display: block;
        width: 100%;
        height: auto;
    }

    header {
        text-align: center;
        margin: 30px 0;
    }

    #box h3 {
        text-align: center;
    }

    p {
        font-size: 16px;
        margin: 5px 0;
    }
</style>

<body style="overflow-x: hidden;">
    <section
        style="background-color: #2196f3; font-size: 1.5em; color: white; display: flex; flex-direction: column; height: 90vh;">

        <nav class="navbar navbar-expand-lg">
            <div class="container-fluid ">
                <div><img src="https://cdn-us.imgs.moe/2023/07/24/64be512ade53d.ico" height="36px">2023年免费图床</div>
                <div class="collapse navbar-collapse justify-content-end">
                    <div class="navbar-nav">
                        <a class="nav-link" style="color: #dddddd;" href="https://fileup.dev/">盘络上传</a>
                        <a class="nav-link" style="color: white; font-weight: bold;" href="https://fileup.dev/">图床比拼</a>
                    </div>
                </div>
            </div>
        </nav>
        <header style="flex: 1; display: flex; align-items: center;">
            <div class="row" style="display: flex; align-items: center;">
                <div style="width: 50vw;">
                    <h1><b>图床大横批，图床就来比一下吧!</b></h1>
                </div>
                <div style="width: 50vw;">
                    <img width="40%" src="https://cdn-us.imgs.moe/2023/07/24/64be113ea5dc7.gif" alt="">
                </div>
            </div>
        </header>
    </section>



    <section id="box">
    </section>

    <section style=" background-color: white; box-shadow: 0 1rem 3rem rgba(33, 37, 41, .175)">
        <footer>
            <div class="row">
                <div style="padding: 1em; text-align: center;">
                    <h1>加入收录</h1>
                    <h5>满足以下条件：</h5>
                    <p>1.没有禁止国内/国外访问</p>
                    <p>2.将原图：https://images5.alphacoders.com/129/1298529.jpg 上传到图床</p>
                    <p>3.到<a href="https://github.com/ZenEcho/fileup.dev/issues">GitHub提交信息</a></p>
                </div>


            </div>


        </footer>
    </section>

    <script>
        // 使用Fisher-Yates算法对数组进行洗牌
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        fetch("https://fileup.dev/imgtestData.json")
            .then(response => response.text())
            .then(res => {
                try {
                    const jsonObject = JSON.parse(res);
                    let data = jsonObject.data
                    data.forEach(item => {
                        item.image += `?cache=${Date.now()}`;
                    });
                    // 随机洗牌数组
                    shuffleArray(data);

                    // 生成HTML的函数
                    function generateHTML() {
                        const itemsPerPage = 6;
                        const startIndex = (currentPage - 1) * itemsPerPage;
                        const endIndex = startIndex + itemsPerPage;
                        const currentData = data.slice(startIndex, endIndex);

                        let $box = $('#box'); // 使用jQuery选择器获取box元素

                        currentData.forEach(item => {
                            const startTime = Date.now();

                            // 添加图片元素，并设置onload事件处理函数
                            $box.append(`
                                <div class="box">
                                    <h3><a href="${item.link}" target="_blank">${item.link}</a></h3>
                                    <p style=" font-size: 0.7em;">${item.introduce}</p>
                                    <img src="${item.image}">
                                </div>
                            `);

                            $box.find('img').last().on('load', function () {
                                // 在class="box"末尾插入加载时间
                                const endTime = Date.now();
                                const loadTime = endTime - startTime;
                                $(this).parent().append(`
                                    <p style=" font-size: 1em; ">加载时间：${loadTime}毫秒</p>
                                    <p style=" font-size: 0.7em; ">(时间计算会受网络,计算机性能,本地时间,浏览器等不确定因素影响)</p>`);
                            });



                        });
                    }

                    // 页面加载时生成HTML
                    const currentPage = 1;
                    $(document).ready(generateHTML); // 使用jQuery的方式绑定页面加载事件
                } catch (error) {
                    console.error('Error parsing data:', error);
                }
            })
            .catch(error => {
                // An error occurred during fetching
                console.error('Error fetching data:', error);
            });

    </script>
</body>

</html>